{
    "homepage": "https://github.com/liuzijing97/scoop-completion/",
    "description": "Scoop tab completion, work with powershell",
    "version": "nightly",
    "license": "MIT",
    "url": "https://github.com/liuzijing97/scoop-completion/archive/master.zip",
    "extract_dir": "scoop-completion-master/src",
    "psmodule": {
        "name": "scoop-completion"
    },
    "post_install": [
        "Import-Module scoop-completion",
        "function AddtoProfile([string] $content) {",
        "    if (!(test-path $profile)) {",
        "        New-Item -Path $profile -Value \"$content\" -ItemType File -Force | Out-Null",
        "    } else {",
        "        Add-Content -Path $profile -Value \"`n$content\" -NoNewLine",
        "    }",
        "}",
        "AddtoProfile 'Import-Module scoop-completion'"
    ],
    "uninstaller":{
        "script":[
            "function ClearProfile([string] $content) {",
            "    ((Get-Content -Path $profile -raw) -replace \"[\\r\\n]*$content\",'').trim() | Set-Content $profile -NoNewLine",
            "}",
            "ClearProfile 'Import-Module scoop-completion'"
        ]
    }
}
